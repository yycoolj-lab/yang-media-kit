<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¥Šæ™ºéˆé†«å¸« åª’é«”å ±å°ç¸½æ•´ç†</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        header h1 { font-size: 2.5em; margin-bottom: 10px; }
        header .subtitle { font-size: 1.2em; opacity: 0.9; margin-bottom: 15px; }
        header .tags { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
        header .tag { background: rgba(255,255,255,0.2); padding: 5px 15px; border-radius: 20px; font-size: 0.9em; }
        .stats {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 15px;
            padding: 30px;
            background: #f8f9fa;
        }
        @media (max-width: 800px) {
            .stats {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
                padding: 15px;
            }
            .stat-card {
                padding: 12px 5px;
            }
            .stat-card .number {
                font-size: 1.3em;
            }
            .stat-card .label {
                font-size: 0.75em;
            }
        }
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .stat-card .number { font-size: 2em; font-weight: bold; color: #667eea; }
        .stat-card .label { color: #666; font-size: 0.9em; }
        .section { padding: 30px; border-bottom: 1px solid #eee; }
        .section:last-child { border-bottom: none; }
        .section h2 { font-size: 1.5em; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }
        .media-list { display: flex; flex-direction: column; gap: 10px; }
        .media-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            transition: all 0.3s;
        }
        .media-item:hover { background: #e9ecef; transform: translateX(5px); }
        .media-item .info { flex: 1; }
        .media-item .title { font-weight: 500; color: #333; margin-bottom: 5px; }
        .media-item .meta { font-size: 0.85em; color: #666; }
        .media-item a {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            text-decoration: none;
            font-size: 0.9em;
            white-space: nowrap;
            transition: transform 0.3s;
        }
        .media-item a:hover { transform: scale(1.05); }
        .subsection { margin-bottom: 25px; }
        .subsection h3 {
            font-size: 1.1em;
            color: #667eea;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 2px solid #667eea;
            display: inline-block;
        }
        .highlight-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
            border-radius: 15px;
            margin: 15px 0;
        }
        .highlight-box h3 { font-size: 1.3em; margin-bottom: 10px; }
        .highlight-box a {
            color: white;
            font-size: 1.5em;
            font-weight: bold;
            text-decoration: none;
            display: block;
            margin: 10px 0;
        }
        .highlight-box a:hover { text-decoration: underline; }
        .highlight-box .stats-row {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        .highlight-box .stat-item { text-align: center; }
        .highlight-box .stat-num { font-size: 1.5em; font-weight: bold; }
        .highlight-box .stat-label { font-size: 0.9em; opacity: 0.9; }
        footer {
            background: #1a1a2e;
            color: white;
            padding: 30px;
            text-align: center;
        }
        footer a { color: #667eea; text-decoration: none; }
        .badge-new {
            display: inline-block;
            background: #ff6b6b;
            color: white;
            font-size: 0.7em;
            padding: 2px 8px;
            border-radius: 10px;
            margin-left: 8px;
            vertical-align: middle;
        }
        @media (max-width: 600px) {
            header h1 { font-size: 1.8em; }
            .media-item { flex-direction: column; align-items: flex-start; gap: 10px; }
            .media-item a { width: 100%; text-align: center; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <img src="photo.jpg?v=9" alt="æ¥Šæ™ºéˆé†«å¸«" style="width: 200px; height: 200px; border-radius: 50%; object-fit: cover; object-position: center 20%; margin: 0 auto 20px auto; display: block; border: 4px solid rgba(255,255,255,0.3); background: white;">
            <h1>ä¿ é†«æ¥Šæ™ºéˆ</h1>
            <p class="subtitle">å°ä¸­å¯Œè¶³è¨ºæ‰€é™¢é•·ï½œå¾®å‰µéœè„ˆæ›²å¼µæ‰‹è¡“æ¬Šå¨</p>
            <div class="tags">
                <span class="tag">å¿ƒè¡€ç®¡å¤–ç§‘</span>
                <span class="tag">éœè„ˆæ›²å¼µ</span>
                <span class="tag">å¾®å‰µæ‰‹è¡“</span>
            </div>
        </header>

        <!-- Stats: dynamically rendered from data.json -->
        <div class="stats" id="stats-container"></div>

        <div class="section">
            <h2><span class="icon">ğŸ¥</span> å¯Œè¶³è¨ºæ‰€</h2>
            <div class="highlight-box">
                <h3>å®˜æ–¹ç¶²ç«™</h3>
                <a href="https://good-leg.com" target="_blank">ğŸŒ good-leg.com</a>
                <p>å°ä¸­å¸‚åŒ—å±¯å€æ•¦å¯Œå…­è¡—8è™Ÿ ï½œ (04) 2437-9900</p>
            </div>
        </div>

        <div class="section">
            <h2><span class="icon">ğŸ“˜</span> Facebook ç²‰çµ²å°ˆé </h2>
            <div class="highlight-box" style="background: linear-gradient(135deg, #1877f2 0%, #0d5db5 100%);">
                <h3>ä¿ é†«æ¥Šæ™ºéˆ - å¯Œè¶³è¨ºæ‰€è¡€ç®¡è·äºº</h3>
                <a href="https://www.facebook.com/good.leg.clinic/" target="_blank">fb.com/good.leg.clinic</a>
                <div class="stats-row">
                    <div class="stat-item">
                        <div class="stat-num" id="fb-follower-display">è¼‰å…¥ä¸­...</div>
                        <div class="stat-label">è¿½è¹¤è€…</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2><span class="icon">ğŸ“º</span> YouTube é »é“</h2>
            <div class="highlight-box" style="background: linear-gradient(135deg, #ff0000 0%, #cc0000 100%);">
                <h3>ä¿ é†«æ¥Šæ™ºéˆ</h3>
                <a href="https://www.youtube.com/@yycoolj" target="_blank">youtube.com/@yycoolj</a>
            </div>
        </div>

        <div class="section">
            <h2><span class="icon">ğŸ†</span> æ¦®è­½çé …</h2>
            <div class="media-list">
                <div class="media-item">
                    <div class="info">
                        <div class="title">å…¨åœ‹å„ªç§€é’å¹´ä»£è¡¨ï¼ˆè‹—æ —ç¸£ç¤¾æœƒçµ„ï¼‰</div>
                        <div class="meta">2021</div>
                    </div>
                </div>
                <div class="media-item">
                    <div class="info">
                        <div class="title">APA äºå¤ªè¡€ç®¡å­¸è¡“è¯ç›Ÿ é’ä¸­å¹´é†«å¸«æ¼”è¬›å¤§è³½ ç¸½å† è»</div>
                        <div class="meta">2016</div>
                    </div>
                </div>
                <div class="media-item">
                    <div class="info">
                        <div class="title">ä¸Šæµ·åœ‹éš›è…”å…§è¡€ç®¡å­¸å¤§æœƒã€Œå¹´åº¦æœ€æœ‰åƒ¹å€¼ç—…ä¾‹å¤§çã€</div>
                        <div class="meta">2016</div>
                    </div>
                </div>
                <div class="media-item">
                    <div class="info">
                        <div class="title">å°ç£è¡€ç®¡å¤–ç§‘å­¸æœƒç†äº‹é•·ç é’å¹´é†«å­¸æ¼”è¬›æ¯”è³½ ç¸½å† è»</div>
                        <div class="meta">2015</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2><span class="icon">ğŸ¤</span> è¬›å¸«ãƒ»æ¼”è¬›ï¼ˆ50+ å ´ï¼‰</h2>
            <p style="text-align: center; color: #666; margin-bottom: 20px;">ä¸»é¡Œï¼šç°¡å ±æŠ€å·§ï½œæºé€šè¡¨é”ï½œé†«ç—…é—œä¿‚ï½œç”Ÿæ¶¯è¦åŠƒ</p>

            <div class="subsection">
                <h3>å…¬é–‹èª²ç¨‹è¬›å¸«</h3>
                <div class="media-list">
                    <div class="media-item">
                        <div class="info">
                            <div class="title">å¤§äººå­¸ï½œ9æ­²åˆ°99æ­²éƒ½èƒ½è¼•é¬†èªªæœçš„å°ˆæ¥­è¡¨é”åŠ›</div>
                            <div class="meta">å…¬é–‹èª²ç¨‹è¬›å¸«</div>
                        </div>
                        <a href="https://www.darencademy.com/article/author/id/17" target="_blank">äº†è§£</a>
                    </div>
                    <div class="media-item">
                        <div class="info">
                            <div class="title">æ–°æ€æƒŸåœ‹éš›ï½œæ¼”è¬›æŠ€å·§èˆ‡æºé€šå·¥ä½œåŠ</div>
                            <div class="meta">ç‰¹é‚€è¬›å¸«</div>
                        </div>
                        <a href="https://speak2015.innovarad.tw/tag/%E6%A5%8A%E6%99%BA%E9%88%9E/" target="_blank">äº†è§£</a>
                    </div>
                    <div class="media-item">
                        <div class="info">
                            <div class="title">BFA ç°¡å ±ï½œä¿ é†«å…­è„ˆåŠè¨£ãƒ»ç°¡å ±ä¿®ç·´å¿ƒæ³•</div>
                            <div class="meta">å°ˆæ¬„åˆ†äº«</div>
                        </div>
                        <a href="https://www.bfa.com.tw/blog/presentation-skills" target="_blank">é–±è®€</a>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3>ä¼æ¥­å…§è¨“ãƒ»æ©Ÿæ§‹æ¼”è¬›</h3>
                <div class="media-list">
                    <div class="media-item">
                        <div class="info">
                            <div class="title">é‡‘èä¿éšªæ¥­</div>
                            <div class="meta">ä¸­åœ‹ä¿¡è¨—å•†æ¥­éŠ€è¡Œã€æ–°å…‰äººå£½ã€å‹é‚¦äººå£½ã€éŒ åµ‚ä¿éšªç¶“ç´€äººã€ä¸‰å•†ç¾é‚¦</div>
                        </div>
                    </div>
                    <div class="media-item">
                        <div class="info">
                            <div class="title">æ”¿åºœæ©Ÿé—œ</div>
                            <div class="meta">å°ä¸­å¸‚æ”¿åºœ</div>
                        </div>
                    </div>
                    <div class="media-item">
                        <div class="info">
                            <div class="title">é†«ç™‚é™¢æ‰€</div>
                            <div class="meta">å°ä¸­æ¦®ç¸½ã€å˜‰ç¾©æ¦®ç¸½ã€è‹—æ —ç¸£è­·ç†å¸«è­·å£«å…¬æœƒ</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3>æ ¡åœ’æ¼”è¬›</h3>
                <div class="media-list">
                    <div class="media-item">
                        <div class="info">
                            <div class="title">å¤§å­¸</div>
                            <div class="meta">æˆåŠŸå¤§å­¸ã€é™½æ˜å¤§å­¸</div>
                        </div>
                    </div>
                    <div class="media-item">
                        <div class="info">
                            <div class="title">é«˜ä¸­</div>
                            <div class="meta">è¬èŠ³é«˜ä¸­ã€å˜‰ç¾©å¥³ä¸­ã€å½°åŒ–é«˜ä¸­</div>
                        </div>
                    </div>
                    <div class="media-item">
                        <div class="info">
                            <div class="title">åœ‹ä¸­</div>
                            <div class="meta">å±æ±åœ‹ä¸­ã€ä¿¡ç¾©åœ‹ä¸­</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3>ç°½æ›¸æœƒãƒ»åº§è«‡æœƒ</h3>
                <div class="media-list">
                    <div class="media-item">
                        <div class="info">
                            <div class="title">é«˜é›„ç°½æ›¸åº§è«‡æœƒï½œ50é“å¿ƒè‡Ÿå¯†ç¢¼</div>
                            <div class="meta">2023/06</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TV Shows: dynamically rendered from data.json -->
        <div class="section">
            <h2><span class="icon">ğŸ“º</span> é›»è¦–ç¯€ç›®</h2>
            <div id="tv-shows-container"></div>
        </div>

        <!-- Health Media: dynamically rendered from data.json -->
        <div class="section">
            <h2><span class="icon">ğŸ©º</span> æ¬Šå¨å¥åº·åª’é«”</h2>
            <div id="health-media-container"></div>
        </div>

        <!-- News Media: dynamically rendered from data.json -->
        <div class="section">
            <h2><span class="icon">ğŸ—ï¸</span> æ–°èåª’é«”å ±å°</h2>
            <div id="news-media-container"></div>
        </div>

        <div class="section">
            <h2><span class="icon">ğŸ“š</span> è‘—ä½œãƒ»å°ˆæ¬„ãƒ»Podcast</h2>
            <div class="media-list">
                <div class="media-item">
                    <div class="info">
                        <div class="title">ã€Šä¿ é†«æ¥Šæ™ºéˆçš„50é“å¿ƒè‡Ÿå¯†ç¢¼ã€å…¨æ–°å¢ä¿®ç‰ˆã€‘ã€‹</div>
                        <div class="meta">2024 å…¨æ–°å¢ä¿®ç‰ˆï½œéŠ·å”® 5,000+ æœ¬</div>
                    </div>
                    <a href="https://www.books.com.tw/products/0011032131" target="_blank">è³¼è²·</a>
                </div>
                <div class="media-item">
                    <div class="info">
                        <div class="title">ã€Šä¿ é†«æ¥Šæ™ºéˆçš„50é“å¿ƒè‡Ÿå¯†ç¢¼ã€‹é›»å­æ›¸</div>
                        <div class="meta">åˆç‰ˆé›»å­æ›¸</div>
                    </div>
                    <a href="https://www.books.com.tw/products/E050154428" target="_blank">è³¼è²·</a>
                </div>
                <div class="media-item">
                    <div class="info">
                        <div class="title">ä¿ è·¯ç›¸é€¢ï½œæ¥Šæ™ºéˆé†«å¸«çš„Podcast</div>
                        <div class="meta">Apple Podcasts</div>
                    </div>
                    <a href="https://podcasts.apple.com/tw/podcast/ä¿ è·¯ç›¸é€¢-æ¥Šæ™ºéˆé†«å¸«çš„podcastç¯€ç›®/id1710937955" target="_blank">æ”¶è½</a>
                </div>
                <div class="media-item">
                    <div class="info">
                        <div class="title">å¤§äººå­¸å°ˆæ¬„</div>
                        <div class="meta">å°ˆæ¬„ä½œè€…</div>
                    </div>
                    <a href="https://www.darencademy.com/article/author/id/17" target="_blank">é–±è®€</a>
                </div>
                <div class="media-item">
                    <div class="info">
                        <div class="title">ç”Ÿé†«æ™‚ä»£å°ˆæ¬„</div>
                        <div class="meta">å°ˆæ¬„ä½œè€…</div>
                    </div>
                    <a href="https://med-era.com.tw/authors/yangggu" target="_blank">é–±è®€</a>
                </div>
            </div>
        </div>

        <div class="section">
            <h2><span class="icon">ğŸ¤</span> å“ç‰Œåˆä½œ</h2>
            <div class="media-list">
                <div class="media-item">
                    <div class="info">
                        <div class="title">å¤§ç ”ç”Ÿé†« å¾·åœ‹é ‚ç´šé­šæ²¹</div>
                        <div class="meta">å°ˆæ¥­é†«å¸«æ¨è–¦ï½œmomo éŠ·å”® 30è¬+</div>
                    </div>
                    <a href="https://www.momoshop.com.tw/goods/GoodsDetail.jsp?i_code=8082347" target="_blank">è³¼è²·</a>
                </div>
                <div class="media-item">
                    <div class="info">
                        <div class="title">æ—¥æœ¬æœå€‰å•†ä¼š æ”¾é¬†éºµåŒ…é‹</div>
                        <div class="meta">é†«è­·äººå“¡æ¨è–¦ï½œèˆ’é©èˆ‡å°ˆæ¥­å…¼å…·</div>
                    </div>
                    <a href="https://www.hankmax.com/products/askr-bread" target="_blank">è³¼è²·</a>
                </div>
                <div class="media-item">
                    <div class="info">
                        <div class="title">ç„¡ç§å°å­¸å ‚ æ°´æœˆè§€éŸ³éˆç±¤ç‰Œå¡</div>
                        <div class="meta">å˜–å˜–å‹Ÿè³‡ç ´ 300 è¬</div>
                    </div>
                    <a href="https://www.zeczec.com/projects/guan-yin" target="_blank">äº†è§£</a>
                </div>
            </div>
        </div>

        <footer>
            <p><strong>ä¿ é†«æ¥Šæ™ºéˆï½œå¯Œè¶³è¨ºæ‰€</strong></p>
            <p id="last-updated" style="margin-top: 15px; opacity: 0.7;">åª’é«”åŒ…æ•´ç†ä¸­...</p>
        </footer>
    </div>

    <script>
    (async function() {
        const DATA_URL = 'data.json';
        let data;

        try {
            const resp = await fetch(DATA_URL + '?v=' + Date.now());
            data = await resp.json();
        } catch (err) {
            console.error('Failed to load data.json:', err);
            return;
        }

        // --- Render Stats Bar ---
        renderStats(data.stats);

        // --- Render FB follower count ---
        const fbEl = document.getElementById('fb-follower-display');
        if (fbEl) fbEl.textContent = data.stats.facebook_followers.display;

        // --- Render TV Shows (grouped by show) ---
        renderGroupedSection(
            'tv-shows-container',
            data.tv_shows,
            'show',
            function(item) {
                return item.show_network ? item.show + 'ï¼ˆ' + item.show_network + 'ï¼‰' : item.show;
            },
            'è§€çœ‹'
        );

        // --- Render Health Media (grouped by outlet) ---
        renderGroupedSection(
            'health-media-container',
            data.health_media,
            'outlet',
            function(item) {
                var role = item.outlet_role ? 'ï¼ˆ' + item.outlet_role + 'ï¼‰' : '';
                return item.outlet + role;
            },
            'é–±è®€'
        );

        // --- Render News Media (grouped by outlet) ---
        renderGroupedSection(
            'news-media-container',
            data.news_media,
            'outlet',
            function(item) { return item.outlet; },
            'é–±è®€'
        );

        // --- Update footer date ---
        var footerEl = document.getElementById('last-updated');
        if (footerEl && data.last_updated) {
            var d = new Date(data.last_updated);
            footerEl.textContent = 'è³‡æ–™è‡ªå‹•æ›´æ–°ï¼š' + d.getFullYear() + 'å¹´' + (d.getMonth() + 1) + 'æœˆ' + d.getDate() + 'æ—¥';
        }

        // â”€â”€â”€ Helper Functions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

        function renderStats(stats) {
            var container = document.getElementById('stats-container');
            if (!container) return;
            var cards = [
                { number: stats.facebook_followers.display, label: 'Facebook è¿½è¹¤', url: stats.facebook_followers.url },
                { number: '\u2B50 ' + stats.google_rating.score, label: 'Google è©•åƒ¹', url: stats.google_rating.url },
                { number: stats.tv_episodes.display, label: 'å—é‚€ç¯€ç›®é›†æ•¸' },
                { number: stats.media_exposure.display, label: 'åª’é«”æ›å…‰' },
                { number: stats.book_sales.display, label: 'è‘—ä½œéŠ·é‡' }
            ];
            container.innerHTML = cards.map(function(c) {
                var tag = c.url ? 'a' : 'div';
                var href = c.url ? ' href="' + escHtml(c.url) + '" target="_blank"' : '';
                var style = c.url ? ' style="text-decoration:none;color:inherit;"' : '';
                return '<' + tag + href + ' class="stat-card"' + style + '>' +
                    '<div class="number">' + escHtml(c.number) + '</div>' +
                    '<div class="label">' + escHtml(c.label) + '</div>' +
                    '</' + tag + '>';
            }).join('');
        }

        function renderGroupedSection(containerId, items, groupField, labelFn, defaultBtnText) {
            var container = document.getElementById(containerId);
            if (!container || !items) return;

            // Group items preserving insertion order
            var groups = {};
            var groupOrder = [];
            items.forEach(function(item) {
                var key = item[groupField];
                if (!groups[key]) {
                    groups[key] = [];
                    groupOrder.push(key);
                }
                groups[key].push(item);
            });

            // Sort within each group by date descending
            Object.keys(groups).forEach(function(key) {
                groups[key].sort(function(a, b) {
                    return (b.date || '').localeCompare(a.date || '');
                });
            });

            // Check if item was added in last 30 days
            var thirtyDaysAgo = new Date();
            thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
            var cutoff = thirtyDaysAgo.toISOString().slice(0, 10);

            container.innerHTML = groupOrder.map(function(key) {
                var groupItems = groups[key];
                var label = labelFn(groupItems[0]);
                return '<div class="subsection">' +
                    '<h3>' + escHtml(label) + '</h3>' +
                    '<div class="media-list">' +
                    groupItems.map(function(item) {
                        var btnText = item.link_label || defaultBtnText;
                        var newBadge = (item.source === 'auto_search' && item.added_date >= cutoff)
                            ? '<span class="badge-new">NEW</span>' : '';
                        return '<div class="media-item">' +
                            '<div class="info">' +
                            '<div class="title">' + escHtml(item.title) + newBadge + '</div>' +
                            '<div class="meta">' + escHtml(item.date || '') + '</div>' +
                            '</div>' +
                            (item.url ? '<a href="' + escHtml(item.url) + '" target="_blank">' + escHtml(btnText) + '</a>' : '') +
                            '</div>';
                    }).join('') +
                    '</div></div>';
            }).join('');
        }

        function escHtml(str) {
            if (!str) return '';
            return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
        }
    })();
    </script>
</body>
</html>
